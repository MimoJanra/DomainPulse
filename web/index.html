<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DomainPulse - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ–º–µ–Ω–æ–≤</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåê DomainPulse</h1>
            <p class="subtitle">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ–º–µ–Ω–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</p>
        </header>

        <div class="main-content">
            <!-- –°–µ–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ –∏–ª–∏ IP -->
            <section class="card">
                <h2>–î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω –∏–ª–∏ IP</h2>
                <form id="addDomainForm" class="form">
                    <div class="form-group">
                        <input type="text" id="domainName" placeholder="example.com –∏–ª–∏ 192.168.1.1" required>
                        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                </form>
            </section>

            <!-- –°–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ -->
            <section class="card">
                <h2>–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ä—É–µ–º—ã–µ –¥–æ–º–µ–Ω—ã</h2>
                <div id="domainsList" class="domains-list">
                    <p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                </div>
            </section>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ -->
    <div id="checkModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</h2>
            <form id="addCheckForm" class="form">
                <input type="hidden" id="checkDomainId">
                <div class="form-group">
                    <label>–¢–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏:</label>
                    <select id="checkType" required>
                        <option value="http">HTTP</option>
                        <option value="icmp">ICMP</option>
                        <option value="tcp">TCP</option>
                        <option value="udp">UDP</option>
                        <option value="tls">TLS (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏:</label>
                    <select id="checkIntervalType" required>
                        <option value="second">–†–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É</option>
                        <option value="minute" selected>–†–∞–∑ –≤ –º–∏–Ω—É—Ç—É</option>
                        <option value="hour">–†–∞–∑ –≤ —á–∞—Å</option>
                        <option value="day">–†–∞–∑ –≤ –¥–µ–Ω—å</option>
                    </select>
                    <input type="number" id="checkInterval" value="1" min="1" style="margin-top: 5px;" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ">
                </div>
                <div class="form-group" id="httpParams">
                    <label>–°—Ö–µ–º–∞ (–¥–ª—è HTTP):</label>
                    <select id="checkScheme">
                        <option value="https" selected>HTTPS</option>
                        <option value="http">HTTP</option>
                    </select>
                    <label style="margin-top: 10px;">–ü—É—Ç—å (–¥–ª—è HTTP):</label>
                    <input type="text" id="checkPath" placeholder="/">
                    <label style="margin-top: 10px;">–ú–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ (–¥–ª—è HTTP):</label>
                    <select id="checkMethod">
                        <option value="GET" selected>GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="PATCH">PATCH</option>
                        <option value="DELETE">DELETE</option>
                    </select>
                    <label style="margin-top: 10px;">–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (–¥–ª—è POST/PUT, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                    <textarea id="checkBody" placeholder='{"key": "value"}' rows="3"></textarea>
                </div>
                <div class="form-group" id="portParams" style="display: none;">
                    <label>–ü–æ—Ä—Ç (–¥–ª—è TCP/UDP/TLS):</label>
                    <input type="number" id="checkPort" min="1" max="65535">
                </div>
                <div class="form-group" id="tcpParams" style="display: none;">
                    <label>–ö–æ–Ω—Ç–µ–Ω—Ç (–¥–ª—è TCP, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                    <input type="text" id="checkTcpPayload" placeholder="data">
                </div>
                <div class="form-group" id="udpParams" style="display: none;">
                    <label>Payload (–¥–ª—è UDP, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                    <input type="text" id="checkPayload" placeholder="ping">
                </div>
                <div class="form-group">
                    <label>–¢–∞–π–º–∞—É—Ç (–º—Å):</label>
                    <input type="number" id="checkTimeout" value="5000" min="1000">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="checkRealtime"> –†–µ–∂–∏–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                    </label>
                </div>
                <div class="form-group">
                    <label>–õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É:</label>
                    <input type="number" id="checkRateLimit" value="0" min="0" placeholder="0 = –±–µ–∑ –ª–∏–º–∏—Ç–∞">
                </div>
                <button type="submit">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ -->
    <div id="editCheckModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</h2>
            <form id="editCheckForm" class="form">
                <input type="hidden" id="editCheckId">
                <input type="hidden" id="editCheckDomainId">
                <div class="form-group">
                    <label>–¢–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏:</label>
                    <select id="editCheckType" required>
                        <option value="http">HTTP</option>
                        <option value="icmp">ICMP</option>
                        <option value="tcp">TCP</option>
                        <option value="udp">UDP</option>
                        <option value="tls">TLS (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏:</label>
                    <select id="editCheckIntervalType" required>
                        <option value="second">–†–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É</option>
                        <option value="minute" selected>–†–∞–∑ –≤ –º–∏–Ω—É—Ç—É</option>
                        <option value="hour">–†–∞–∑ –≤ —á–∞—Å</option>
                        <option value="day">–†–∞–∑ –≤ –¥–µ–Ω—å</option>
                    </select>
                    <input type="number" id="editCheckInterval" value="1" min="1" style="margin-top: 5px;" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ">
                </div>
                <div class="form-group" id="editHttpParams">
                    <label>–°—Ö–µ–º–∞ (–¥–ª—è HTTP):</label>
                    <select id="editCheckScheme">
                        <option value="https" selected>HTTPS</option>
                        <option value="http">HTTP</option>
                    </select>
                    <label style="margin-top: 10px;">–ü—É—Ç—å (–¥–ª—è HTTP):</label>
                    <input type="text" id="editCheckPath" placeholder="/">
                    <label style="margin-top: 10px;">–ú–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ (–¥–ª—è HTTP):</label>
                    <select id="editCheckMethod">
                        <option value="GET" selected>GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="PATCH">PATCH</option>
                        <option value="DELETE">DELETE</option>
                    </select>
                    <label style="margin-top: 10px;">–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (–¥–ª—è POST/PUT, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                    <textarea id="editCheckBody" placeholder='{"key": "value"}' rows="3"></textarea>
                </div>
                <div class="form-group" id="editPortParams" style="display: none;">
                    <label>–ü–æ—Ä—Ç (–¥–ª—è TCP/UDP/TLS):</label>
                    <input type="number" id="editCheckPort" min="1" max="65535">
                </div>
                <div class="form-group" id="editTcpParams" style="display: none;">
                    <label>–ö–æ–Ω—Ç–µ–Ω—Ç (–¥–ª—è TCP, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                    <input type="text" id="editCheckTcpPayload" placeholder="data">
                </div>
                <div class="form-group" id="editUdpParams" style="display: none;">
                    <label>Payload (–¥–ª—è UDP, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                    <input type="text" id="editCheckPayload" placeholder="ping">
                </div>
                <div class="form-group">
                    <label>–¢–∞–π–º–∞—É—Ç (–º—Å):</label>
                    <input type="number" id="editCheckTimeout" value="5000" min="1000">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="editCheckRealtime"> –†–µ–∂–∏–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                    </label>
                </div>
                <div class="form-group">
                    <label>–õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É:</label>
                    <input type="number" id="editCheckRateLimit" value="0" min="0" placeholder="0 = –±–µ–∑ –ª–∏–º–∏—Ç–∞">
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button type="button" id="deleteCheckBtn" style="background-color: #e74c3c;">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div id="resultsModal" class="modal">
        <div class="modal-content large">
            <span class="close">&times;</span>
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏</h2>
            <div id="checkStats" class="stats-container"></div>
            <div class="chart-controls" style="margin: 20px 0; display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">
                <label for="intervalSelect">–ü–µ—Ä–∏–æ–¥:</label>
                <select id="intervalSelect" style="padding: 5px 10px; border-radius: 4px; border: 1px solid #ddd;">
                    <option value="1m">1 –º–∏–Ω—É—Ç–∞</option>
                    <option value="5m">5 –º–∏–Ω—É—Ç</option>
                    <option value="1h">1 —á–∞—Å</option>
                </select>
                <button id="resetZoomBtn" class="btn btn-small" style="margin-left: 10px;">–°–±—Ä–æ—Å–∏—Ç—å –º–∞—Å—à—Ç–∞–±</button>
                <button id="applyPeriodBtn" class="btn btn-primary btn-small">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –∫ –≥—Ä–∞—Ñ–∏–∫—É –¥–æ–º–µ–Ω–∞</button>
            </div>
            <div class="chart-container" style="height: 300px;">
                <canvas id="checkChart"></canvas>
            </div>
            <div id="resultsList" class="results-list"></div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
